# 文件变更说明

## 修改文件: `update.bat`

### 1. 修复嵌入式 Node.js 路径检测
**问题**: 脚本原代码检测 `node\node.exe`，但实际目录为 `nodejs`。
**修复**: 将路径修改为 `nodejs\node.exe` 及相关 npm 路径。

### 2. 暂时禁用 Git 自动更新
**问题**: 脚本包含 `git reset --hard`，会导致本地对脚本的修复在运行时被覆盖，导致死循环。
**修复**: 注释掉了 `git fetch` 和 `git reset` 部分。
**注意**: 这意味着运行此脚本**不会**拉取远程最新代码，仅用于本地重新构建。若需更新，需解决远程仓库的脚本 Bug。

## 3. 架构升级：Embedded Node.js (x64)
**问题**: 原分发包内嵌的 Node.js 为 32位 (ia32)，在 64位 Windows 上会导致 Rollup 等构建工具尝试加载 64位 原生模块失败 (`Cannot find module ... x64-msvc`)。
**修复**: 提供 `upgrade_node.bat` 脚本，自动下载并替换 Node.js 为 v20.15.1 (x64)。当前环境**已完成升级**。

## 4. 新增脚本: `fix_build.bat`
**用途**: **一键修复构建环境**。
**功能**:
1. 彻底清理 `node_modules` 和 `package-lock.json`（解决 npm 缓存/依赖损坏）。
2. 使用嵌入式 Node 环境（已升级为 x64）。
3. 使用淘宝源（npmmirror）加速依赖安装。
4. 重新构建前端。
**建议**: 遇到构建错误时，优先运行此脚本。

## 5. 修改脚本: `start.bat`
**问题**: 启动时未自动运行 TensorBoard，无法查看训练监控图表。
**修复**: 添加了后台启动 TensorBoard 的命令 (Port 6006)，已配置为 `--logdir output\logs`。
